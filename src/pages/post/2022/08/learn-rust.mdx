---
title: åˆå­¦ Rust
date: 2022-08-14T23:48:55+08:00
image: https://www.rust-lang.org/static/images/rust-social-wide.jpg
tags:
-   Rust
-   å­¦ä¹ è®°å½•
---

æ—©å°±æƒ³å­¦ Rust äº†ï¼Œä½†ä¸€ç›´å’•ç€ã€‚è¿™æ¬¡å°å­¦æœŸçš„ç¨‹è®¾è®­ç»ƒå¼€äº† Rust è¯¾å ‚ï¼Œå°±æ¯«ä¸çŠ¹è±«åœ°é€‰äº†ï¼Œä¹Ÿä»¥æ­¤ä¸ºå¥‘æœºå­¦äº† Rustã€‚

è¿™ç¯‡å°±æ˜¯ç®€å•è®°å½•ä¸€ä¸‹å¤§ä½“ä¸Šçš„å­¦ä¹ è¿‡ç¨‹ï¼Œå¦‚æœæœ‰ä»€ä¹ˆå¿ƒå¾—ä½“ä¼šã€ç»éªŒåˆ†äº«ä¹‹ç±»åº”è¯¥ä¼šå¼€æ–°çš„æ–‡ç« ã€‚

<Excerpt />

## åˆå­¦ â€”â€” The Rust Programming Language

ä¸åŒäº Pythonã€JavaScriptï¼Œè¿™æ¬¡å­¦ Rust æ›´åƒæ˜¯å½“åˆå­¦ C++ï¼Œä¸æ˜¯å…ˆé­”æ”¹ä»£ç ã€ç”¨å•¥æœå•¥ã€StackOverflowï¼Œè€Œæ˜¯åœ¨è¿˜æ²¡æ€ä¹ˆæ¥è§¦è¿‡æ—¶å°±ç›´æ¥çœ‹ä¹¦ã€‚

è™½ç„¶æ²¡æœ‰ç»†çœ‹ä¸­æ–‡ç¿»è¯‘çš„è´¨é‡å¦‚ä½•ï¼Œä½†è‡³å°‘æœ¯è¯­æ˜¯ä¸å¥½ç¿»è¯‘çš„ï¼Œå°±ç›´æ¥çœ‹äº†è‹±æ–‡ç‰ˆçš„ [The Rust Programming Language](https://doc.rust-lang.org/book/)ã€‚

è¿™æœ¬ä¹¦çœ‹ä¸‹æ¥ç»™æˆ‘çš„æ„Ÿè§‰æ˜¯ï¼Œå¾ˆå¤šåœ°æ–¹æ²¡æœ‰æŒ‰çŸ¥è¯†ç‚¹ä¾èµ–å…³ç³»çš„æ‹“æ‰‘æ’åºæ¥è®²ï¼Œè€Œä¼¼ä¹æ˜¯ä»¥æŸç§ç”±æµ…å…¥æ·±çš„é¡ºåºæ¥çš„ï¼Œå¾ˆå¤šåé¢æ‰å­¦åˆ°çš„æ¦‚å¿µåœ¨å‰æ–‡å°±å‡ºç°ï¼Œè€Œå‰é¢å­¦çš„æ¦‚å¿µçš„å®Œå…¨ä¸éœ€è¦åé¢çŸ¥è¯†çš„æ‰©å±•åˆåœ¨åé¢æ‰è¡¥å……ï¼Œè¿˜æœ‰ä¸€äº›é›¶ç¢çš„çŸ¥è¯†æ˜¯åœ¨ project chapter è®²çš„ã€‚

åæ­£ï¼Œæ¯å¤©çœ‹ä¸¤ä¸‰ç« ï¼Œ~~è¿˜èƒ½æœ‰ä¸å°‘æ—¶é—´æ‘¸é±¼ï¼Œæ‘¸ä¸ª~~ ä¸€ä¸¤å‘¨å°±çœ‹å¾—å·®ä¸å¤šäº†ï¼ˆ

## åˆæ­¥ç»ƒä¹  â€”â€” æ´›è°·

çœ‹ä¹¦çš„åŒæ—¶åœ¨ [æ´›è°·](https://www.luogu.com.cn/) ä¸Šéšä¾¿æŒ‘äº†ç‚¹å…¥é—¨é¢˜å’Œæ¿å­é¢˜å†™ã€‚åªä¸è¿‡ä¸€å¼€å§‹æ²¡å­¦ io ä¹‹ç±»çš„ï¼Œä¼šå†å¤šè¯­æ³•ä¹Ÿåšä¸åŠ¨é¢˜ï¼Œ~~ä½†å¹¸å¥½æœ‰ GitHub Copilot~~ã€‚

åœ¨è¿™æ”¾ä¸ªè¯»å…¥çš„ä¾‹å­ï¼š

```
6 0
1 1 4 5 1 4
```

```rust
fn main() {
    let stdin = std::io::stdin();
    let mut input = String::new();

    stdin.read_line(&mut input).unwrap();
    let mut parts = input.split_whitespace();
    let n = parts.next().unwrap().parse::<u32>().unwrap();
    assert_eq!(n, 6);
    let m = parts.next().unwrap().parse::<u32>().unwrap();
    assert_eq!(m, 0);

    input.clear();
    stdin.read_line(&mut input).unwrap();
    let a = input
        .split_whitespace()
        .map(|x| x.parse::<i32>().unwrap())
        .collect::<Vec<_>>();
    assert_eq!(a, vec![1, 1, 4, 5, 1, 4]);
}
```

## å¤ä¹  â€”â€” A half-hour to learn Rust

ä¹‹å‰åœ¨ Hacker News ä¸Šçœ‹åˆ°äº† [A half-hour to learn Rust](https://fasterthanli.me/articles/a-half-hour-to-learn-rust) è¿™ç¯‡æ–‡ç« ã€‚å¦‚æœçœŸçš„æ˜¯çœ‹è¿™ä¸ªä¸œè¥¿æ¥å­¦ Rustï¼Œä¸è¯´èƒ½ä¸èƒ½å­¦ä¼šï¼Œè‚¯å®šæ˜¯å­¦ä¸æ‰å®çš„ã€‚ä½†æ˜¯ï¼Œçœ‹å®Œä¹¦ä¹‹åå¾ˆå¤šè¯­æ³•ä¹Ÿå¿˜äº†ï¼Œçœ‹è¿™ä¸ªç”¨æ¥å¤ä¹ è¿˜æ˜¯éå¸¸ä¸é”™çš„ã€‚ï¼ˆå¦å¤–ï¼Œæˆ‘æ„Ÿè§‰è¿™ä¸ªçš„é¡ºåºè²Œä¼¼æ¯”ä¹¦æ›´æœ‰æ¡ç†ä¸€äº›ï¼Œè™½ç„¶åˆå­¦ä¸ä¸€å®šå‹å¥½ ğŸ¤”ï¼‰

## æ·±å…¥äº†è§£ â€”â€” The Rust Standard Library

å…¶å®çœ‹ä¹¦çš„æ—¶å€™å°±æ„Ÿè§‰åˆ°äº†ï¼Œå¾ˆå¤šæ—¶å€™ä¸æ‡‚ä¸€æ®µä»£ç ä¸æ˜¯ä¸æ‡‚è¯­æ³•ï¼Œè€Œæ˜¯ä¸æ‡‚ [æ ‡å‡†åº“](https://doc.rust-lang.org/stable/std/) çš„å®ç°ï¼Œè€ŒæŠŠ API ç†è§£æˆäº†æ²¡å­¦è¿‡çš„è¯­æ³•ã€‚äº†è§£æ ‡å‡†åº“ï¼Œä¸ä»…æ˜¯æå‡ç¼–ç å’Œè¿è¡Œçš„æ•ˆç‡ï¼Œä¹Ÿæ˜¯èƒ½å¤Ÿçœ‹æ‡‚å¾ˆå¤šåŸºç¡€ä»£ç çš„å…³é”®ã€‚

çœ‹æ–‡æ¡£çš„æ—¶å€™å‘ç°ï¼Œä¸ä»…æ˜¯å­¦åˆ°äº†å¾ˆå¤šæœ‰ç”¨çš„ methodsï¼Œä¹Ÿå­¦åˆ°äº†å¾ˆå¤šå…¶å®ƒä¸œè¥¿ã€‚æ¯”å¦‚è¯´ï¼š

-   ä¸€èˆ¬æ¥è¯´éƒ½å¯ä»¥ç”¨ [`std::cmp::max`](https://doc.rust-lang.org/stable/std/cmp/fn.max.html) æ¥å– maxï¼Œä½† [`f32` ä¸“é—¨æœ‰ä¸€ä¸ª `pub fn max(self, other: f32) -> f32`](https://doc.rust-lang.org/stable/std/primitive.f32.html#method.max)ï¼Œè¿™æ˜¯å› ä¸ºæµ®ç‚¹æ•°æœ‰ NaN è¿™ä¸ªç‰¹æ®Šæƒ…å†µå¯¼è‡´ `f32` æ²¡æœ‰ impl [`Ord`](https://doc.rust-lang.org/stable/std/cmp/trait.Ord.html)ï¼Œè€Œ `std::cmp::max` éœ€è¦ `Ord`
-   ä¹¦é‡Œè²Œä¼¼æ²¡è®²åˆ°çš„ [keyword `ref`](https://doc.rust-lang.org/stable/std/keyword.ref.html)ï¼ˆä»¥åŠåœ¨ pattern matching ä¸­å’Œ `&` çš„åŒºåˆ«ï¼‰
-   å¼•ç”¨ä¹‹é—´è¿›è¡Œæ¯”è¾ƒæ—¶ä¼šè‡ªåŠ¨è½¬æˆæŒ‡å‘çš„å€¼ï¼Œå³å®é™…è¿›è¡Œæ¯”è¾ƒçš„æ˜¯æŒ‡å‘çš„å€¼ï¼ˆå¯ä»¥é€šè¿‡ [`std::ptr::eq`](https://doc.rust-lang.org/stable/std/ptr/fn.eq.html) æ¥æ¯”è¾ƒåœ°å€ï¼‰
-   ä»æ ‡å‡†åº“çš„ API è®¾è®¡èƒ½é¢†ä¼šåˆ°å¾ˆå¤š trait å’Œ generic çš„ç”¨æ³•ï¼Œä½“ä¼šåˆ°å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·çš„å¼ºå¤§
-   [`Iterator` è‡ªåŠ¨æœ‰ `IntoIterator`](https://doc.rust-lang.org/std/iter/index.html#for-loops-and-intoiterator)ï¼Œæ‰€ä»¥ç”¨ `IntoIterator` ä»£æ›¿ `Iterator` ä½œä¸º trait bound å¯ä»¥è®©å‡½æ•°æ›´çµæ´»
-   â€¦â€¦

ç®€å•çœ‹ä¸€çœ‹å°±èƒ½çŸ¥é“ the book é‡Œæ¶‰åŠåˆ°çš„çœŸçš„åªæ˜¯å†°å±±ä¸€è§’ï¼Œå­¦ Rust æ ‡å‡†åº“çš„æ„ä¹‰ä¼šæ¯”å­¦ C++ çš„ STL å¤§å¾—å¤šï¼ˆä¸ªäººæ„Ÿè§‰ï¼‰ï¼ˆä¹Ÿå¯èƒ½æ˜¯æˆ‘ C++ æ°´å¹³å¤ªä½ / æ²¡è®¤çœŸå­¦ STL ğŸ˜¢ï¼‰ï¼ˆæˆ–è€… Primer Plus è®²çš„å…¨ä¸€äº›ï¼‰ã€‚

## ä¸Šè¯¾

### Class 1

å› ä¸ºè‡ªå­¦è¿‡äº†ï¼Œæ‰€ä»¥ä¸Šè¯¾å°±åŸºæœ¬ä¸Šæ˜¯æŠŠè€å¸ˆçš„å£°éŸ³å½“ä½œ bgm å¶å°”å¬ä¸€ä¸‹ï¼Œç„¶åç»§ç»­çœ‹æ ‡å‡†åº“æ–‡æ¡£ï¼ˆ

ä¸Šè¯¾çš„æ—¶å€™è€å¸ˆæåˆ° Rust ç¼–è¯‘å™¨å¯ä»¥æç¤ºå¦‚ä½•ä¿®æ”¹ï¼Œäºæ˜¯æˆ‘é¡ºåŠ¿åœ¨è¯¾ç¨‹ç¾¤é‡Œå‘äº†ä¸ª [rust ç¨‹åºå‘˜ç°çŠ¶](https://twitter.com/st1page/status/1477168761744805891) çš„æˆªå›¾ï¼ˆ

![rustç¨‹åºå‘˜ç°çŠ¶](rust-programmers-be-like.jpg)

è¯¾åæŠŠ OJ ä¸Šçš„ä½œä¸šé€Ÿé€šåå‘ç°æ¦œä¸æ˜¯å…¬å¼€çš„ ğŸ˜¢

åæ¥è¿˜å‘ç°è‡ªå·±ä¸€é“é¢˜å†™äº†ä¸ª `collect` å¾—åˆ°çš„ `Vec` åªç”¨åœ¨ä¸€ä¸ª `for` é‡Œï¼ˆå°±æ˜¯è¯´å¯ä»¥ç›´æ¥æŠŠè¿­ä»£å™¨ç”¨åœ¨ `for` ä¸ç”¨å…ˆ `collect`ï¼‰ğŸ˜µ æƒ³æ”¹è¿‡æ¥ï¼Œä½†è™½ç„¶æ²¡æœ‰å…¬å¼€æ¦œï¼Œè¿˜æ˜¯ä¸æƒ³æ‰¿å—å¯èƒ½çš„ç½šæ—¶ï¼ˆ
